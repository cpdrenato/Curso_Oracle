CREATE TABLE TALUNO
(
  COD_ALUNO INTEGER NOT NULL,
  NOME VARCHAR(30),
  CIDADE VARCHAR2(30),
  CEP VARCHAR(10),
  PRIMARY KEY (COD_ALUNO)
);

SELECT * FROM TALUNO;

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (1,'RENATO','GOIANIA','74000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (2,'JACO','JESURALEM','04000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (3,'JO','JUIZES','04000000');

CREATE TABLE TCURSO
(
  COD_CURSO INTEGER NOT NULL PRIMARY KEY,
  NOME VARCHAR2(30),
  VALOR NUMBER(8,2),
  CARGA_HORARIA INTEGER
);

SELECT * FROM TCURSO;

INSERT INTO TCURSO VALUES(1,'ORACLE SQL e PL/SQL',500,25);
INSERT INTO TCURSO VALUES(2,'ORACLE DBA',499,25);
INSERT INTO TCURSO VALUES(3,'JAVA FUND. E OO',1500,100);
INSERT INTO TCURSO VALUES(4,'JAVASERVER FACES',1600,100);

CREATE TABLE TCONTRATO
(
  COD_CONTRATO INTEGER NOT NULL PRIMARY KEY,
  DATA DATE,
  COD_ALUNO INTEGER,
  TOTAL NUMBER(8,2),
  DESCONTO NUMBER(5,2)
);

SELECT * FROM TCONTRATO;

-- SYSDATE, TRAZ DATA E HORA, E O -4, REFERENTE MENOS DIAS

INSERT INTO TCONTRATO VALUES(1, SYSDATE ,1 , 500,10);
INSERT INTO TCONTRATO VALUES(2, SYSDATE ,2 , 500,10);
INSERT INTO TCONTRATO VALUES(3, SYSDATE ,3 , 1500,05);
INSERT INTO TCONTRATO VALUES(4, SYSDATE ,2 , 1600,10);
INSERT INTO TCONTRATO VALUES(5, SYSDATE-4 ,5 , 1600,10);
INSERT INTO TCONTRATO VALUES(6, SYSDATE-3 ,5 , 1600,10);
INSERT INTO TCONTRATO VALUES(7, SYSDATE-2 ,5 , 1600,10);

--INSERIR COLUNA NA TABELA
ALTER TABLE TCONTRATO ADD COL_TESTE VARCHAR(50);

SELECT * FROM TCONTRATO;

--EXCLUIR COLUNA DA TABELA
ALTER TABLE TCONTRATO DROP COLUMN COL_TESTE;

--ALTERAR NOME DE COLUNA
ALTER TABLE TALUNO RENAME COLUMN NOME TO NOME2;
ALTER TABLE TALUNO RENAME COLUMN NOME2 TO NOME;

SELECT * FROM TCONTRATO;

--EXCLUIR TABELA
DROP TABLE TABELA;

--
SELECT * FROM TALUNO;

--sequencia
CREATE SEQUENCE SEQ_ALUNO START WITH 4;

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (SEQ_ALUNO.NEXTVAL,'JOSE','EGITO','11000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (SEQ_ALUNO.NEXTVAL,'ANA','ROMA','11000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (SEQ_ALUNO.NEXTVAL,'MARIA','JERUSALEM','11000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (SEQ_ALUNO.NEXTVAL,'TESTE','TESTE','11000000');

SELECT * FROM TALUNO;


 --DATA/HORA ATUAL
SELECT SYSDATE FROM DUAL;

 --FORMA ERRADA
SELECT * FROM DUAL;

 --VALOR ATUAL DA SEQUENCE
SELECT SEQ_ALUNO.CURRVAL FROM DUAL;




 --confirmar alteraçoes realizada(isert, update e delete)
COMMIT;

SELECT * FROM TALUNO;

DELETE FROM TALUNO;

--desfaz alteraçoes realizada (insert, updatte e delete)


--excluir registro da tabela
SELECT * FROM TALUNO;

DELETE FROM TALUNO
WHERE COD_ALUNO = 7;

SELECT * FROM TALUNO;

ROLLBACK;

SELECT * FROM TALUNO;

SELECT * FROM TALUNO WHERE NOME = 'JOSE';

DELETE FROM TALUNO WHERE NOME = 'JOSE';

COMMIT;

ROLLBACK;

CREATE TABLE TITEM
  (COD_ITEM INTEGER NOT NULL PRIMARY KEY,
    COD_CURSO INTEGER,
    COD_CONTRATO INTEGER,
    VALOR NUMBER(8,2));

INSERT INTO TITEM VALUES (1, 1, 1, 500);
INSERT INTO TITEM VALUES (2, 1, 2, 500);
INSERT INTO TITEM VALUES (3, 3, 3, 1500);
INSERT INTO TITEM VALUES (4, 4, 4, 1600);
INSERT INTO TITEM VALUES (5, 1, 5, 500);
INSERT INTO TITEM VALUES (6, 1, 6, 500);
INSERT INTO TITEM VALUES (7, 2, 6, 500);
INSERT INTO TITEM VALUES (8, 3, 7, 500);

COMMIT;

SELECT * FROM TITEM;

---------

SELECT * FROM TCONTRATO
WHERE COD_CONTRATO = 2;

--ALTERAR REGISTRO DA TABELA
UPDATE TCONTRATO SET
  DESCONTO = 18
  WHERE COD_CONTRATO = 2;

UPDATE TCONTRATO SET
DESCONTO = 20,
DATA = '05/01/2016',
TOTAL = 200
WHERE COD_CONTRATO = 2;
 ---
SELECT * FROM TALUNO;

--UPPER TRANSFORMA A COLUNA
UPDATE TALUNO SET
CIDADE = 'BABILONIA'
WHERE Upper(CIDADE) = 'ROMA';

UPDATE TALUNO SET
CIDADE = 'NABUCODONOZOR'
WHERE COD_ALUNO = 3;

SELECT * FROM TCURSO;

UPDATE TCURSO SET
VALOR = 499.99
WHERE COD_CURSO = 1;

COMMIT;

--
ALT + 3












